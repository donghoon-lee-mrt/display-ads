# Plan — 마일스톤/체크리스트

## 1) 마일스톤
- M0 Dry-run(샘플 20건): 파이프라인 건식 테스트, KPI 수집
- M1 v0 PoC: 템플릿 1종, 수동 업로드(플랫폼 자동화 제외)
- M2 파일럿: 템플릿 2종, 반자동 업로드(내부 툴)
- M3 v1 하드닝: 대시보드, 자동 회복, 규칙 준수율 상향

## 2) 수용 기준(KPI)
- Dry-run: 렌더 성공 ≥90%, OCR 평균 신뢰도 ≥85%
- v0: 1 URL→≤2분 MP4/SRT 산출, 검수 패스율 ≥80%
- 파일럿: 일 10건 안정 처리, 자동 회복 ≥95%
- v1: 금칙어/톤 준수 ≥95%, 평균 렌더 ≤60초/건

## 3) 작업 보드(요약)
- Ingest/Validate: URL 검증, 이미지/JSON 저장, 규격 점검, 금칙어 1차
- Transform: OCR→키프레이즈/가격 라벨, Vertex 문장 생성→규칙 검수
- Synthesize: FFmpeg 합성(자막 번인, Ken Burns, 덕킹), 썸네일
- Package: MP4/SRT/manifest (v0 알림 제외)
- Observe: 대시보드 3지표(성공률·평균 렌더·OCR 신뢰도), 실패 큐 재실행 경로

## 4) 운영 체크리스트
- 재시도 지수 백오프(최대 3회), 보류 큐 이동 확인
- 금칙어/톤 룰 업데이트 주기 정의(주/월)
- (v0 제외) 알림 템플릿 점검
- 버킷 Lifecycle 정책 적용(보존기간)
- 비용 모니터링 알림 한도

## 5) 리소스/역할(예시)
- PO: 요구/우선순위, 산출물 승인
- 엔지니어: 파이프라인/FFmpeg/인프라
- 에디터: 톤/금칙어/QA
- 운영: 검수/재시도

## 6) DECISION(확정 필요)
- 템플릿 폰트/컬러/자막 안전영역 룰(파일: template.json)
- 정보 API 스키마(필수/선택 필드, 가격/프로모 표현), API: https://api3.myrealtrip.com/.../traveler/products/{product_id}/header
- (보류) 알림 채널/권한, 형식 — v0 제외

## 7) QUESTION(의존)
- 대상 플랫폼별 안전영역 차이 반영 범위?
- BGM/효과음 소스·권리 증빙 절차?
- 일 10건 이상 스파이크 처리 방안(대기/샤딩)?